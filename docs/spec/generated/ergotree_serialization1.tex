
\subsubsection{\lst{ConcreteCollection} operation (OpCode 131)}
\label{sec:serialization:operation:ConcreteCollection}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ numItems $ & \lst{VLQ(UShort)} & [1, *] & number of item in a collection of expressions \\
    \hline
           $ elementType $ & \lst{Type} & [1, *] & type of each expression in the collection \\
    \hline
          \multicolumn{4}{l}{\lst{for}~$i=1$~\lst{to}~$numItems$} \\
    \hline
             ~~ $ item_i $ & \lst{Expr} & [1, *] & expression in i-th position \\
    \hline
          \multicolumn{4}{l}{\lst{end for}} \\
\end{tabularx}\)
       

\subsubsection{\lst{ConcreteCollectionBooleanConstant} operation (OpCode 133)}
\label{sec:serialization:operation:ConcreteCollectionBooleanConstant}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ numBits $ & \lst{VLQ(UShort)} & [1, *] & number of items in a collection of Boolean values \\
    \hline
           $ bits $ & \lst{Bits} & [1, 1024] & Boolean values encoded as as bits (right most byte is zero-padded on the right) \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{Tuple} operation (OpCode 134)}
\label{sec:serialization:operation:Tuple}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ numItems $ & \lst{UByte} & 1 & number of items in the tuple \\
    \hline
          \multicolumn{4}{l}{\lst{for}~$i=1$~\lst{to}~$numItems$} \\
    \hline
             ~~ $ item_i $ & \lst{Expr} & [1, *] & tuple's item in i-th position \\
    \hline
          \multicolumn{4}{l}{\lst{end for}} \\
\end{tabularx}\)
       

\subsubsection{\lst{SelectField} operation (OpCode 140)}
\label{sec:serialization:operation:SelectField}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ input $ & \lst{Expr} & [1, *] & tuple of items \\
    \hline
           $ fieldIndex $ & \lst{Byte} & 1 & index of an item to select \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{LT} operation (OpCode 143)}
\label{sec:serialization:operation:LT}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
        \multicolumn{4}{l}{\lst{match}~$ (left, right) $} \\
         
    \multicolumn{4}{l}{~~\lst{otherwise} } \\
    \hline
            ~~~~ $ left $ & \lst{Expr} & [1, *] & left operand \\
    \hline
          ~~~~ $ right $ & \lst{Expr} & [1, *] & right operand \\
    \hline
          \multicolumn{4}{l}{\lst{end match}} \\
\end{tabularx}\)
       

\subsubsection{\lst{LE} operation (OpCode 144)}
\label{sec:serialization:operation:LE}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
        \multicolumn{4}{l}{\lst{match}~$ (left, right) $} \\
         
    \multicolumn{4}{l}{~~\lst{otherwise} } \\
    \hline
            ~~~~ $ left $ & \lst{Expr} & [1, *] & left operand \\
    \hline
          ~~~~ $ right $ & \lst{Expr} & [1, *] & right operand \\
    \hline
          \multicolumn{4}{l}{\lst{end match}} \\
\end{tabularx}\)
       

\subsubsection{\lst{GT} operation (OpCode 145)}
\label{sec:serialization:operation:GT}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
        \multicolumn{4}{l}{\lst{match}~$ (left, right) $} \\
         
    \multicolumn{4}{l}{~~\lst{otherwise} } \\
    \hline
            ~~~~ $ left $ & \lst{Expr} & [1, *] & left operand \\
    \hline
          ~~~~ $ right $ & \lst{Expr} & [1, *] & right operand \\
    \hline
          \multicolumn{4}{l}{\lst{end match}} \\
\end{tabularx}\)
       

\subsubsection{\lst{GE} operation (OpCode 146)}
\label{sec:serialization:operation:GE}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
        \multicolumn{4}{l}{\lst{match}~$ (left, right) $} \\
         
    \multicolumn{4}{l}{~~\lst{otherwise} } \\
    \hline
            ~~~~ $ left $ & \lst{Expr} & [1, *] & left operand \\
    \hline
          ~~~~ $ right $ & \lst{Expr} & [1, *] & right operand \\
    \hline
          \multicolumn{4}{l}{\lst{end match}} \\
\end{tabularx}\)
       

\subsubsection{\lst{EQ} operation (OpCode 147)}
\label{sec:serialization:operation:EQ}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
        \multicolumn{4}{l}{\lst{match}~$ (left, right) $} \\
         
    \multicolumn{4}{l}{~~\lst{with}~$(Constant(l, Boolean), Constant(r, Boolean))$ } \\
    \hline
            ~~~~ $ opCode $ & \lst{Byte} & 1 & always contains OpCode 133 \\
    \hline
          ~~~~ $ (l,r) $ & \lst{Bits} & 1 & two higher bits in a byte \\
    \hline
      
    \multicolumn{4}{l}{~~\lst{otherwise} } \\
    \hline
            ~~~~ $ left $ & \lst{Expr} & [1, *] & left operand \\
    \hline
          ~~~~ $ right $ & \lst{Expr} & [1, *] & right operand \\
    \hline
          \multicolumn{4}{l}{\lst{end match}} \\
\end{tabularx}\)
       

\subsubsection{\lst{NEQ} operation (OpCode 148)}
\label{sec:serialization:operation:NEQ}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
        \multicolumn{4}{l}{\lst{match}~$ (left, right) $} \\
         
    \multicolumn{4}{l}{~~\lst{with}~$(Constant(l, Boolean), Constant(r, Boolean))$ } \\
    \hline
            ~~~~ $ opCode $ & \lst{Byte} & 1 & always contains OpCode 133 \\
    \hline
          ~~~~ $ (l,r) $ & \lst{Bits} & 1 & two higher bits in a byte \\
    \hline
      
    \multicolumn{4}{l}{~~\lst{otherwise} } \\
    \hline
            ~~~~ $ left $ & \lst{Expr} & [1, *] & left operand \\
    \hline
          ~~~~ $ right $ & \lst{Expr} & [1, *] & right operand \\
    \hline
          \multicolumn{4}{l}{\lst{end match}} \\
\end{tabularx}\)
       

\subsubsection{\lst{If} operation (OpCode 149)}
\label{sec:serialization:operation:If}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ condition $ & \lst{Expr} & [1, *] & condition expression \\
    \hline
           $ trueBranch $ & \lst{Expr} & [1, *] & expression to execute when \lst{condition == true} \\
    \hline
           $ falseBranch $ & \lst{Expr} & [1, *] & expression to execute when \lst{condition == false} \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{AND} operation (OpCode 150)}
\label{sec:serialization:operation:AND}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ conditions $ & \lst{Expr} & [1, *] & a collection of conditions \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{AtLeast} operation (OpCode 152)}
\label{sec:serialization:operation:AtLeast}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ bound $ & \lst{Expr} & [1, *] & required minimum of proven children \\
    \hline
           $ children $ & \lst{Expr} & [1, *] & proposition to be proven/validated \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{Minus} operation (OpCode 153)}
\label{sec:serialization:operation:Minus}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ left $ & \lst{Expr} & [1, *] & left operand \\
    \hline
           $ right $ & \lst{Expr} & [1, *] & right operand \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{Plus} operation (OpCode 154)}
\label{sec:serialization:operation:Plus}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ left $ & \lst{Expr} & [1, *] & left operand \\
    \hline
           $ right $ & \lst{Expr} & [1, *] & right operand \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{Xor} operation (OpCode 155)}
\label{sec:serialization:operation:Xor}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ left $ & \lst{Expr} & [1, *] & left operand \\
    \hline
           $ right $ & \lst{Expr} & [1, *] & right operand \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{Multiply} operation (OpCode 156)}
\label{sec:serialization:operation:Multiply}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ left $ & \lst{Expr} & [1, *] & left operand \\
    \hline
           $ right $ & \lst{Expr} & [1, *] & right operand \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{Division} operation (OpCode 157)}
\label{sec:serialization:operation:Division}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ left $ & \lst{Expr} & [1, *] & left operand \\
    \hline
           $ right $ & \lst{Expr} & [1, *] & right operand \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{Modulo} operation (OpCode 158)}
\label{sec:serialization:operation:Modulo}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ left $ & \lst{Expr} & [1, *] & left operand \\
    \hline
           $ right $ & \lst{Expr} & [1, *] & right operand \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{Exponentiate} operation (OpCode 159)}
\label{sec:serialization:operation:Exponentiate}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
           $ k $ & \lst{Expr} & [1, *] & The power \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{MultiplyGroup} operation (OpCode 160)}
\label{sec:serialization:operation:MultiplyGroup}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
           $ other $ & \lst{Expr} & [1, *] & other element of the group \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{Min} operation (OpCode 161)}
\label{sec:serialization:operation:Min}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ left $ & \lst{Expr} & [1, *] & left operand \\
    \hline
           $ right $ & \lst{Expr} & [1, *] & right operand \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{Max} operation (OpCode 162)}
\label{sec:serialization:operation:Max}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ left $ & \lst{Expr} & [1, *] & left operand \\
    \hline
           $ right $ & \lst{Expr} & [1, *] & right operand \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{MapCollection} operation (OpCode 173)}
\label{sec:serialization:operation:MapCollection}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
           $ f $ & \lst{Expr} & [1, *] & the function to apply to each element \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{Exists} operation (OpCode 174)}
\label{sec:serialization:operation:Exists}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
           $ p $ & \lst{Expr} & [1, *] & the predicate used to test elements \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{ForAll} operation (OpCode 175)}
\label{sec:serialization:operation:ForAll}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
           $ p $ & \lst{Expr} & [1, *] & the predicate used to test elements \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{Fold} operation (OpCode 176)}
\label{sec:serialization:operation:Fold}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
           $ zero $ & \lst{Expr} & [1, *] & a starting value \\
    \hline
           $ op $ & \lst{Expr} & [1, *] & the binary operator \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{SizeOf} operation (OpCode 177)}
\label{sec:serialization:operation:SizeOf}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{ByIndex} operation (OpCode 178)}
\label{sec:serialization:operation:ByIndex}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
           $ index $ & \lst{Expr} & [1, *] & index of the element of this collection \\
    \hline
          \multicolumn{4}{l}{\lst{optional}~$default$} \\
    \hline
    ~~$tag$ & \lst{Byte} & 1 & 0 - no value; 1 - has value \\
    \hline
    \multicolumn{4}{l}{~~\lst{when}~$tag == 1$} \\
    \hline
             ~~~~ $ default $ & \lst{Expr} & [1, *] & value to return when \lst{index} is out of range \\
    \hline
          \multicolumn{4}{l}{\lst{end optional}} \\
\end{tabularx}\)
       

\subsubsection{\lst{Append} operation (OpCode 179)}
\label{sec:serialization:operation:Append}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
           $ other $ & \lst{Expr} & [1, *] & the collection to append at the end of this \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{Slice} operation (OpCode 180)}
\label{sec:serialization:operation:Slice}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
           $ from $ & \lst{Expr} & [1, *] & the lowest index to include from this collection \\
    \hline
           $ until $ & \lst{Expr} & [1, *] & the lowest index to EXCLUDE from this collection \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{TreeLookup} operation (OpCode 183)}
\label{sec:serialization:operation:TreeLookup}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ tree $ & \lst{Expr} & [1, *] & tree to lookup the key \\
    \hline
           $ key $ & \lst{Expr} & [1, *] & a key of an item in the \lst{tree} to lookup \\
    \hline
           $ proof $ & \lst{Expr} & [1, *] & proof to perform verification of the operation \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{ExtractAmount} operation (OpCode 193)}
\label{sec:serialization:operation:ExtractAmount}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{ExtractScriptBytes} operation (OpCode 194)}
\label{sec:serialization:operation:ExtractScriptBytes}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{ExtractBytes} operation (OpCode 195)}
\label{sec:serialization:operation:ExtractBytes}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{ExtractBytesWithNoRef} operation (OpCode 196)}
\label{sec:serialization:operation:ExtractBytesWithNoRef}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{ExtractId} operation (OpCode 197)}
\label{sec:serialization:operation:ExtractId}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{ExtractRegisterAs} operation (OpCode 198)}
\label{sec:serialization:operation:ExtractRegisterAs}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
           $ regId $ & \lst{Byte} & 1 & zero-based identifier of the register. \\
    \hline
           $ type $ & \lst{Type} & [1, *] & expected type of the value in register \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{ExtractCreationInfo} operation (OpCode 199)}
\label{sec:serialization:operation:ExtractCreationInfo}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{CalcBlake2b256} operation (OpCode 203)}
\label{sec:serialization:operation:CalcBlake2b256}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ input $ & \lst{Expr} & [1, *] & collection of bytes \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{CalcSha256} operation (OpCode 204)}
\label{sec:serialization:operation:CalcSha256}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ input $ & \lst{Expr} & [1, *] & collection of bytes \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{BoolToSigmaProp} operation (OpCode 209)}
\label{sec:serialization:operation:BoolToSigmaProp}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ condition $ & \lst{Expr} & [1, *] & boolean value to embed in SigmaProp value \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{DeserializeContext} operation (OpCode 212)}
\label{sec:serialization:operation:DeserializeContext}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ type $ & \lst{Type} & [1, *] & expected type of the deserialized script \\
    \hline
           $ id $ & \lst{Byte} & 1 & identifier of the context variable \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{DeserializeRegister} operation (OpCode 213)}
\label{sec:serialization:operation:DeserializeRegister}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ id $ & \lst{Byte} & 1 & identifier of the register \\
    \hline
           $ type $ & \lst{Type} & [1, *] & expected type of the deserialized script \\
    \hline
          \multicolumn{4}{l}{\lst{optional}~$default$} \\
    \hline
    ~~$tag$ & \lst{Byte} & 1 & 0 - no value; 1 - has value \\
    \hline
    \multicolumn{4}{l}{~~\lst{when}~$tag == 1$} \\
    \hline
             ~~~~ $ default $ & \lst{Expr} & [1, *] & optional default value, if register is not available \\
    \hline
          \multicolumn{4}{l}{\lst{end optional}} \\
\end{tabularx}\)
       

\subsubsection{\lst{ValDef} operation (OpCode 214)}
\label{sec:serialization:operation:ValDef}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
    % skipped OptionalScope(type arguments, ArrayBuffer())

\end{tabularx}\)
       

\subsubsection{\lst{FunDef} operation (OpCode 215)}
\label{sec:serialization:operation:FunDef}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
    % skipped OptionalScope(type arguments, ArrayBuffer())

\end{tabularx}\)
       

\subsubsection{\lst{BlockValue} operation (OpCode 216)}
\label{sec:serialization:operation:BlockValue}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ numItems $ & \lst{VLQ(UInt)} & [1, *] & number of block items \\
    \hline
          \multicolumn{4}{l}{\lst{for}~$i=1$~\lst{to}~$numItems$} \\
    \hline
             ~~ $ item_i $ & \lst{Expr} & [1, *] & block's item in i-th position \\
    \hline
          \multicolumn{4}{l}{\lst{end for}} \\\hline
     $ result $ & \lst{Expr} & [1, *] & result expression of the block \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{FuncValue} operation (OpCode 217)}
\label{sec:serialization:operation:FuncValue}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ numArgs $ & \lst{VLQ(UInt)} & [1, *] & number of function arguments \\
    \hline
          \multicolumn{4}{l}{\lst{for}~$i=1$~\lst{to}~$numArgs$} \\
    \hline
             ~~ $ id_i $ & \lst{VLQ(UInt)} & [1, *] & identifier of the i-th argument \\
    \hline
          ~~ $ type_i $ & \lst{Type} & [1, *] & type of the i-th argument \\
    \hline
          \multicolumn{4}{l}{\lst{end for}} \\\hline
     $ body $ & \lst{Expr} & [1, *] & function body, which is parameterized by arguments \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{PropertyCall} operation (OpCode 219)}
\label{sec:serialization:operation:PropertyCall}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ typeCode $ & \lst{Byte} & 1 & type of the method (see Table~\ref{table:predeftypes}) \\
    \hline
           $ methodCode $ & \lst{Byte} & 1 & a code of the proprty \\
    \hline
           $ obj $ & \lst{Expr} & [1, *] & receiver object of this property call \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{MethodCall} operation (OpCode 220)}
\label{sec:serialization:operation:MethodCall}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ typeCode $ & \lst{Byte} & 1 & type of the method (see Table~\ref{table:predeftypes}) \\
    \hline
           $ methodCode $ & \lst{Byte} & 1 & a code of the method \\
    \hline
           $ obj $ & \lst{Expr} & [1, *] & receiver object of this method call \\
    \hline
           $ \#items $ & \lst{VLQ(UInt)} & [1, *] & number of items in the collection \\
    \hline
          \multicolumn{4}{l}{\lst{for}~$i=1$~\lst{to}~$\#items$} \\
    \hline
             ~~ $ args_i $ & \lst{Expr} & [1, *] & i-th item in the arguments of the method call \\
    \hline
          \multicolumn{4}{l}{\lst{end for}} \\
\end{tabularx}\)
       

\subsubsection{\lst{GetVar} operation (OpCode 227)}
\label{sec:serialization:operation:GetVar}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ varId $ & \lst{Byte} & 1 & \lst{Byte} identifier of context variable \\
    \hline
           $ type $ & \lst{Type} & [1, *] & expected type of context variable \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{OptionGet} operation (OpCode 228)}
\label{sec:serialization:operation:OptionGet}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{OptionGetOrElse} operation (OpCode 229)}
\label{sec:serialization:operation:OptionGetOrElse}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
           $ default $ & \lst{Expr} & [1, *] & the default value \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{OptionIsDefined} operation (OpCode 230)}
\label{sec:serialization:operation:OptionIsDefined}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{ModQ} operation (OpCode 231)}
\label{sec:serialization:operation:ModQ}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{PlusModQ} operation (OpCode 232)}
\label{sec:serialization:operation:PlusModQ}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
           $ other $ & \lst{Expr} & [1, *] & Number to add to this. \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{MinusModQ} operation (OpCode 233)}
\label{sec:serialization:operation:MinusModQ}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ this $ & \lst{Expr} & [1, *] & this instance \\
    \hline
           $ other $ & \lst{Expr} & [1, *] & Number to add to this. \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{SigmaAnd} operation (OpCode 234)}
\label{sec:serialization:operation:SigmaAnd}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ \#items $ & \lst{VLQ(UInt)} & [1, *] & number of items in the collection \\
    \hline
          \multicolumn{4}{l}{\lst{for}~$i=1$~\lst{to}~$\#items$} \\
    \hline
             ~~ $ propositions_i $ & \lst{Expr} & [1, *] & i-th item in the a collection of propositions \\
    \hline
          \multicolumn{4}{l}{\lst{end for}} \\
\end{tabularx}\)
       

\subsubsection{\lst{SigmaOr} operation (OpCode 235)}
\label{sec:serialization:operation:SigmaOr}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ \#items $ & \lst{VLQ(UInt)} & [1, *] & number of items in the collection \\
    \hline
          \multicolumn{4}{l}{\lst{for}~$i=1$~\lst{to}~$\#items$} \\
    \hline
             ~~ $ propositions_i $ & \lst{Expr} & [1, *] & i-th item in the a collection of propositions \\
    \hline
          \multicolumn{4}{l}{\lst{end for}} \\
\end{tabularx}\)
       

\subsubsection{\lst{XorOf} operation (OpCode 255)}
\label{sec:serialization:operation:XorOf}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ conditions $ & \lst{Expr} & [1, *] & a collection of conditions \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{SubstConstants} operation (OpCode 116)}
\label{sec:serialization:operation:SubstConstants}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ scriptBytes $ & \lst{Expr} & [1, *] & serialized ErgoTree with ConstantSegregationFlag set to 1. \\
    \hline
           $ positions $ & \lst{Expr} & [1, *] & zero based indexes in ErgoTree.constants array which should be replaced with new values \\
    \hline
           $ newValues $ & \lst{Expr} & [1, *] & new values to be injected into the corresponding positions in ErgoTree.constants array \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{LongToByteArray} operation (OpCode 122)}
\label{sec:serialization:operation:LongToByteArray}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ input $ & \lst{Expr} & [1, *] & value to convert \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{ByteArrayToBigInt} operation (OpCode 123)}
\label{sec:serialization:operation:ByteArrayToBigInt}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ input $ & \lst{Expr} & [1, *] & collection of bytes in big-endian format \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{ByteArrayToLong} operation (OpCode 124)}
\label{sec:serialization:operation:ByteArrayToLong}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ input $ & \lst{Expr} & [1, *] & collection of bytes in big-endian format \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{Downcast} operation (OpCode 125)}
\label{sec:serialization:operation:Downcast}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ input $ & \lst{Expr} & [1, *] & value to cast \\
    \hline
           $ type $ & \lst{Type} & [1, *] & resulting type of the cast operation \\
    \hline
      
\end{tabularx}\)
       

\subsubsection{\lst{Upcast} operation (OpCode 126)}
\label{sec:serialization:operation:Upcast}
\noindent
\(\begin{tabularx}{\textwidth}{| l | l | l | X |}
    \hline
    \bf{Slot} & \bf{Format} & \bf{\#bytes} & \bf{Description} \\
    \hline
         $ input $ & \lst{Expr} & [1, *] & value to cast \\
    \hline
           $ type $ & \lst{Type} & [1, *] & resulting type of the cast operation \\
    \hline
      
\end{tabularx}\)
       